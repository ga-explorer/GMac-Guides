<!DOCTYPE html>
<html class="no-js" lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="profile" href="http://gmpg.org/xfn/11">
  <link rel="pingback" href="/xmlrpc.php">

  <title>Expression Trees Composition - GMac Guides</title>
<script>document.documentElement.className = document.documentElement.className.replace("no-js","js");</script>

<!-- This site is optimized with the Yoast SEO plugin v7.6.1 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="/index.php/textcomposerlib-guide/expression-trees-composition/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Expression Trees Composition - GMac Guides" />
<meta property="og:description" content="Expression Trees Composition You may have noted that the structured text composers are missing tree structures, one very important data structure in computer science. A simple text tree data structure can be used to&#046;&#046;&#046;" />
<meta property="og:url" content="/index.php/textcomposerlib-guide/expression-trees-composition/" />
<meta property="og:site_name" content="GMac Guides" />
<meta property="og:image" content="/wp-content/uploads/2015/10/TextExpressionAst_ClassDiagram1.png" />
<meta property="og:image:width" content="1435" />
<meta property="og:image:height" content="1124" />
<meta property="og:image:alt" content="Text Expression Tree Nodes" />
<meta property="og:image" content="/wp-content/uploads/2015/10/TextExpressionVisitor_ClassDiagram.png" />
<meta property="og:image:width" content="667" />
<meta property="og:image:height" content="873" />
<meta property="og:image:alt" content="Text Expression Visitors" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="Expression Trees Composition You may have noted that the structured text composers are missing tree structures, one very important data structure in computer science. A simple text tree data structure can be used to&#046;&#046;&#046;" />
<meta name="twitter:title" content="Expression Trees Composition - GMac Guides" />
<meta name="twitter:image" content="/wp-content/uploads/2015/10/TextExpressionAst_ClassDiagram1.png" />
<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="GMac Guides &raquo; Feed" href="/index.php/feed/" />
<link rel="alternate" type="application/rss+xml" title="GMac Guides &raquo; Comments Feed" href="/index.php/comments/feed/" />
<link id="hu-user-gfont" href="//fonts.googleapis.com/css?family=Droid+Serif:400,400italic,700" rel="stylesheet" type="text/css">		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.4\/svg\/","svgExt":".svg","source":{"concatemoji":"\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.9.6"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56692,8205,9792,65039],[55357,56692,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='papercite_css-css'  href='/wp-content/plugins/papercite/papercite.css?ver=4.9.6' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-css'  href='/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-github-css'  href='/wp-content/plugins/crayon-syntax-highlighter/themes/github/github.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='cpsh-shortcodes-css'  href='/wp-content/plugins/column-shortcodes//assets/css/shortcodes.css?ver=1.0' type='text/css' media='all' />
<link rel='stylesheet' id='contact-form-7-css'  href='/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=5.0.2' type='text/css' media='all' />
<link rel='stylesheet' id='essential_addons_elementor-css-css'  href='/wp-content/plugins/essential-addons-for-elementor-lite/assets/css/essential-addons-elementor.css?ver=4.9.6' type='text/css' media='all' />
<link rel='stylesheet' id='essential_addons_elementor-slick-css-css'  href='/wp-content/plugins/essential-addons-for-elementor-lite/assets/slick/slick.css?ver=4.9.6' type='text/css' media='all' />
<link rel='stylesheet' id='plantuml-renderer-css'  href='/wp-content/plugins/plantuml-renderer/public/css/plantuml-renderer-public.css?ver=0.0.1' type='text/css' media='all' />
<link rel='stylesheet' id='dlm-frontend-css'  href='/wp-content/plugins/download-monitor/assets/css/frontend.css?ver=4.9.6' type='text/css' media='all' />
<link rel='stylesheet' id='hueman-main-style-css'  href='/wp-content/themes/hueman/assets/front/css/main.min.css?ver=3.3.27' type='text/css' media='all' />
<style id='hueman-main-style-inline-css' type='text/css'>
body { font-family:'Droid Serif', serif;font-size:1.00rem }@media only screen and (min-width: 720px) {
        .nav > li { font-size:1.00rem; }
      }.sidebar .widget { padding-left: 20px; padding-right: 20px; padding-top: 20px; }::selection { background-color: #0066bf; }
::-moz-selection { background-color: #0066bf; }a,.themeform label .required,#flexslider-featured .flex-direction-nav .flex-next:hover,#flexslider-featured .flex-direction-nav .flex-prev:hover,.post-hover:hover .post-title a,.post-title a:hover,.sidebar.s1 .post-nav li a:hover i,.content .post-nav li a:hover i,.post-related a:hover,.sidebar.s1 .widget_rss ul li a,#footer .widget_rss ul li a,.sidebar.s1 .widget_calendar a,#footer .widget_calendar a,.sidebar.s1 .alx-tab .tab-item-category a,.sidebar.s1 .alx-posts .post-item-category a,.sidebar.s1 .alx-tab li:hover .tab-item-title a,.sidebar.s1 .alx-tab li:hover .tab-item-comment a,.sidebar.s1 .alx-posts li:hover .post-item-title a,#footer .alx-tab .tab-item-category a,#footer .alx-posts .post-item-category a,#footer .alx-tab li:hover .tab-item-title a,#footer .alx-tab li:hover .tab-item-comment a,#footer .alx-posts li:hover .post-item-title a,.comment-tabs li.active a,.comment-awaiting-moderation,.child-menu a:hover,.child-menu .current_page_item > a,.wp-pagenavi a{ color: #0066bf; }.themeform input[type="submit"],.themeform button[type="submit"],.sidebar.s1 .sidebar-top,.sidebar.s1 .sidebar-toggle,#flexslider-featured .flex-control-nav li a.flex-active,.post-tags a:hover,.sidebar.s1 .widget_calendar caption,#footer .widget_calendar caption,.author-bio .bio-avatar:after,.commentlist li.bypostauthor > .comment-body:after,.commentlist li.comment-author-admin > .comment-body:after{ background-color: #0066bf; }.post-format .format-container { border-color: #0066bf; }.sidebar.s1 .alx-tabs-nav li.active a,#footer .alx-tabs-nav li.active a,.comment-tabs li.active a,.wp-pagenavi a:hover,.wp-pagenavi a:active,.wp-pagenavi span.current{ border-bottom-color: #0066bf!important; }.search-expand,
              #nav-topbar.nav-container { background-color: #181310}@media only screen and (min-width: 720px) {
                #nav-topbar .nav ul { background-color: #181310; }
              }.is-scrolled #header .nav-container.desktop-sticky,
              .is-scrolled #header .search-expand { background-color: #181310; background-color: rgba(24,19,16,0.90) }.is-scrolled .topbar-transparent #nav-topbar.desktop-sticky .nav ul { background-color: #181310; background-color: rgba(24,19,16,0.95) }#header { background-color: #181310; }
@media only screen and (min-width: 720px) {
  #nav-header .nav ul { background-color: #181310; }
}
        #header #nav-mobile { background-color: #181310; }.is-scrolled #header #nav-mobile { background-color: #181310; background-color: rgba(24,19,16,0.90) }#nav-header.nav-container, #main-header-search .search-expand { background-color: #181310; }
@media only screen and (min-width: 720px) {
  #nav-header .nav ul { background-color: #181310; }
}
        #footer-bottom { background-color: #181310; }.site-title a img { max-height: 280px; }img { -webkit-border-radius: 3px; border-radius: 3px; }body { background-color: #181310; }
</style>
<link rel='stylesheet' id='hueman-font-awesome-css'  href='/wp-content/themes/hueman/assets/front/css/font-awesome.min.css?ver=3.3.27' type='text/css' media='all' />
<link rel='stylesheet' id='addtoany-css'  href='/wp-content/plugins/add-to-any/addtoany.min.css?ver=1.14' type='text/css' media='all' />
<!--n2css--><script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='/wp-content/plugins/papercite/js/papercite.js?ver=4.9.6'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript' src='/wp-content/plugins/add-to-any/addtoany.min.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-content/plugins/plantuml-renderer/public/js/plantuml-renderer-public.js?ver=0.0.1'></script>
<link rel='https://api.w.org/' href='/index.php/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.9.6" />
<link rel='shortlink' href='/?p=3706' />
<link rel="alternate" type="application/json+oembed" href="/index.php/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Ftextcomposerlib-guide%2Fexpression-trees-composition%2F" />
<link rel="alternate" type="text/xml+oembed" href="/index.php/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Findex.php%2Ftextcomposerlib-guide%2Fexpression-trees-composition%2F&#038;format=xml" />

<script data-cfasync="false">
window.a2a_config=window.a2a_config||{};a2a_config.callbacks=[];a2a_config.overlays=[];a2a_config.templates={};
(function(d,s,a,b){a=d.createElement(s);b=d.getElementsByTagName(s)[0];a.async=1;a.src="https://static.addtoany.com/menu/page.js";b.parentNode.insertBefore(a,b);})(document,"script");
</script>
<style type='text/css'> .ae_data .elementor-editor-element-setting {
                        display:none !important;
                }
                </style><!--[if lt IE 9]>
<script src="/wp-content/themes/hueman/assets/front/js/ie/html5shiv-printshiv.min.js"></script>
<script src="/wp-content/themes/hueman/assets/front/js/ie/selectivizr.js"></script>
<![endif]-->
<style type="text/css">
/* <![CDATA[ */
img.graphviz { vertical-align: middle; border: none; }
/* ]]> */
</style>
<style type="text/css">.broken_link, a.broken_link {
	text-decoration: line-through;
}</style><link rel="icon" href="/wp-content/uploads/2016/12/cropped-GAExplorer-Icon-150x150.jpg" sizes="32x32" />
<link rel="icon" href="/wp-content/uploads/2016/12/cropped-GAExplorer-Icon-300x300.jpg" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="/wp-content/uploads/2016/12/cropped-GAExplorer-Icon-300x300.jpg" />
<meta name="msapplication-TileImage" content="/wp-content/uploads/2016/12/cropped-GAExplorer-Icon-300x300.jpg" />

<!-- BEGIN ExactMetrics v5.3.4 Universal Analytics - https://exactmetrics.com/ -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-90461888-2', 'auto');
  ga('send', 'pageview');
</script>
<!-- END ExactMetrics Universal Analytics -->
<style type="text/css"> #turnkey-credit { font-family: Tahoma,Sans,Arial,Helvetica,Verdana,sans-serif; font-size: 11px; text-align: center; } #turnkey-credit a { text-decoration: none; } #turnkey-credit a:hover { text-decoration: underline; } body.wp-admin #turnkey-credit, body#image #turnkey-credit, body#media-upload #turnkey-credit { display: none; } </style></head>

<body class="page-template-default page page-id-3706 page-child parent-pageid-1101 col-1c boxed mobile-sidebar-hide header-desktop-sticky header-mobile-sticky unknown elementor-default">

<div id="wrapper">

  
  <header id="header" class="top-menu-mobile-on one-mobile-menu top_menu header-ads-desktop  topbar-transparent has-header-img">
        <nav class="nav-container group mobile-menu mobile-sticky no-menu-assigned" id="nav-mobile" data-menu-id="header-1">
  <div class="mobile-title-logo-in-header"></div>
        
                    <!-- <div class="ham__navbar-toggler collapsed" aria-expanded="false">
          <div class="ham__navbar-span-wrapper">
            <span class="ham-toggler-menu__span"></span>
          </div>
        </div> -->
        <div class="ham__navbar-toggler-two collapsed" title="Menu" aria-expanded="false">
          <div class="ham__navbar-span-wrapper">
            <span class="line line-1"></span>
            <span class="line line-2"></span>
            <span class="line line-3"></span>
          </div>
        </div>
            
      <div class="nav-text"></div>
      <div class="nav-wrap container">
                <ul id="menu-main-navigation-menu" class="nav container-inner group"><li id="menu-item-2838" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2838"><a href="/index.php/home/">Home</a></li>
<li id="menu-item-2841" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-2841"><a href="/">About GMac</a></li>
<li id="menu-item-3612" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3612"><a href="/index.php/gmac-guides-index/">GMac Guides</a>
<ul class="sub-menu">
	<li id="menu-item-2852" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2852"><a href="/index.php/gmac-system-guide/">GMac System Guide</a></li>
	<li id="menu-item-2842" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2842"><a href="/index.php/gmac-math-guide/">GMac Math Guide</a></li>
	<li id="menu-item-2847" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2847"><a href="/index.php/gmacdsl-guide/">GMacDSL Guide</a></li>
	<li id="menu-item-2849" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2849"><a href="/index.php/gmacast-guide/">GMacAST Guide</a></li>
	<li id="menu-item-2848" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-2848"><a href="/index.php/textcomposerlib-guide/">TextComposerLib Guide</a></li>
	<li id="menu-item-2850" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2850"><a href="/index.php/gmacapi-guide/">GMacAPI Guide</a></li>
	<li id="menu-item-2851" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2851"><a href="/index.php/gmac-scripting-guide/">GMac Scripting Guide</a></li>
</ul>
</li>
<li id="menu-item-2853" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2853"><a href="/index.php/gmac-samples/">GMac Samples</a></li>
<li id="menu-item-2834" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-2834"><a href="#">Galleries</a>
<ul class="sub-menu">
	<li id="menu-item-2845" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2845"><a href="/index.php/islamic-calligraphy/">Islamic Calligraphy</a></li>
	<li id="menu-item-2854" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2854"><a href="/index.php/gmac-logos/">GMac Logos</a></li>
	<li id="menu-item-2855" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2855"><a href="/index.php/textcomposerlib-logos/">TextComposerLib Logos</a></li>
</ul>
</li>
<li id="menu-item-2839" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2839"><a href="/index.php/contact/">Contact</a></li>
</ul>      </div>
</nav><!--/#nav-topbar-->  
  
  <div class="container group">
        <div class="container-inner">

                <div id="header-image-wrap">
              <div class="group pad central-header-zone">
                                                  </div>

              <a href="/" rel="home"><img class="site-image" src="/wp-content/uploads/2017/10/GMac-Logo-v1.jpg" alt="GMac Guides"></a>          </div>
      
                <nav class="nav-container group desktop-menu" id="nav-header" data-menu-id="header-2">
    <div class="nav-text"><!-- put your mobile menu text here --></div>

  <div class="nav-wrap container">
        <ul id="menu-main-navigation-menu-1" class="nav container-inner group"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2838"><a href="/index.php/home/">Home</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-2841"><a href="/">About GMac</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3612"><a href="/index.php/gmac-guides-index/">GMac Guides</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2852"><a href="/index.php/gmac-system-guide/">GMac System Guide</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2842"><a href="/index.php/gmac-math-guide/">GMac Math Guide</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2847"><a href="/index.php/gmacdsl-guide/">GMacDSL Guide</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2849"><a href="/index.php/gmacast-guide/">GMacAST Guide</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-2848"><a href="/index.php/textcomposerlib-guide/">TextComposerLib Guide</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2850"><a href="/index.php/gmacapi-guide/">GMacAPI Guide</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2851"><a href="/index.php/gmac-scripting-guide/">GMac Scripting Guide</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2853"><a href="/index.php/gmac-samples/">GMac Samples</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-2834"><a href="#">Galleries</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2845"><a href="/index.php/islamic-calligraphy/">Islamic Calligraphy</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2854"><a href="/index.php/gmac-logos/">GMac Logos</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2855"><a href="/index.php/textcomposerlib-logos/">TextComposerLib Logos</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2839"><a href="/index.php/contact/">Contact</a></li>
</ul>  </div>
</nav><!--/#nav-header-->      
    </div><!--/.container-inner-->
      </div><!--/.container-->

</header><!--/#header-->
  
  <div class="container" id="page">
    <div class="container-inner">
            <div class="main">
        <div class="main-inner group">
          
              <section class="content">
              <div class="page-title pad group">
          	    		<h1>Expression Trees Composition</h1>
    	
    </div><!--/.page-title-->
          <div class="pad group">
            
  <article class="group post-3706 page type-page status-publish hentry">

    
    <div class="entry themeform">
      <div class="addtoany_share_save_container addtoany_content addtoany_content_top"><div class="a2a_kit a2a_kit_size_24 addtoany_list" data-a2a-url="/index.php/textcomposerlib-guide/expression-trees-composition/" data-a2a-title="Expression Trees Composition"><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=%2Findex.php%2Ftextcomposerlib-guide%2Fexpression-trees-composition%2F&amp;linkname=Expression%20Trees%20Composition" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=%2Findex.php%2Ftextcomposerlib-guide%2Fexpression-trees-composition%2F&amp;linkname=Expression%20Trees%20Composition" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_google_plus" href="https://www.addtoany.com/add_to/google_plus?linkurl=%2Findex.php%2Ftextcomposerlib-guide%2Fexpression-trees-composition%2F&amp;linkname=Expression%20Trees%20Composition" title="Google+" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=%2Findex.php%2Ftextcomposerlib-guide%2Fexpression-trees-composition%2F&amp;linkname=Expression%20Trees%20Composition" title="LinkedIn" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share"></a></div></div><h2 id="expr-trees-comp">Expression Trees Composition</h2>
<p>You may have noted that the structured text composers are missing tree structures, one very important data structure in computer science. A simple text tree data structure can be used to compose and manipulate semantic-free expression trees very similar in function to <a href="https://en.wikipedia.org/wiki/XML" target="_blank" rel="noopener">XML markup</a>, but with a more readable text form. The 
			<span id="crayon-5b1b16897abe8129907115" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">ITextExpression</span></span> interface, under the 
			<span id="crayon-5b1b16897abf5522504876" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">TextComposerLib.TextExpression.Ast</span></span> namespace, is the base of all text expression tree nodes. Two kinds of expressions can be used:</p>
<ul>
<li><strong>Simple</strong>: The 
			<span id="crayon-5b1b16897abf9098380594" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">TeLiteralNumber</span></span>, 
			<span id="crayon-5b1b16897abfd951477358" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">TeLiteralString</span></span>, and 
			<span id="crayon-5b1b16897ac00088833931" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">TeIdentifier</span></span> classes implement the 
			<span id="crayon-5b1b16897ac03404698635" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">ISimpleTextExpression</span></span> interface to represent simple number literals, string literals, and identifiers.</li>
<li><strong>Composite</strong>: The 
			<span id="crayon-5b1b16897ac07353629937" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">TeList</span></span> and 
			<span id="crayon-5b1b16897ac0a121502216" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">TeDictionary</span></span> classes implement the 
			<span id="crayon-5b1b16897ac0e379421336" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">ICompositeTextExpression</span></span> interface to represent lists of sub-expressions and dictionaries of sub-expressions.</li>
</ul>
<p>By nesting instances of these classes we can construct arbitrary text expression trees that can be eventually composed, by traversing, into text.</p>
<div id="attachment_1651" style="width: 1445px" class="wp-caption aligncenter"><a href="/wp-content/uploads/2015/10/TextExpressionAst_ClassDiagram1.png"><img class="wp-image-1651 size-full" src="/wp-content/uploads/2015/10/TextExpressionAst_ClassDiagram1.png" alt="Text Expression Tree Nodes" width="1435" height="1124" srcset="/wp-content/uploads/2015/10/TextExpressionAst_ClassDiagram1.png 1435w, /wp-content/uploads/2015/10/TextExpressionAst_ClassDiagram1-300x235.png 300w, /wp-content/uploads/2015/10/TextExpressionAst_ClassDiagram1-768x602.png 768w, /wp-content/uploads/2015/10/TextExpressionAst_ClassDiagram1-1024x802.png 1024w" sizes="(max-width: 1435px) 100vw, 1435px" /></a><p class="wp-caption-text">Text Expression Tree Node Interfaces and Classes</p></div>
<p>We can use classes that implement from the 
			<span id="crayon-5b1b16897ac11983619469" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">ITextExpressionVisitor</span></span>, 
			<span id="crayon-5b1b16897ac15147992435" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">ITextExpressionVisitor&lt;T&gt;</span></span> interfaces, found under the 
			<span id="crayon-5b1b16897ac18668672131" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">TextComposerLib.TextExpression</span></span> namespace, to implement tree traversing algorithms on the text expression trees. For example the 
			<span id="crayon-5b1b16897ac1c306956640" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">TextExpressionComposer</span></span> class has the static 
			<span id="crayon-5b1b16897ac1f526606870" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">Generate()</span></span>  method that formats a given text expression tree as a string. Many other <a href="https://en.wikipedia.org/wiki/Tree_traversal" target="_blank" rel="noopener">tree traversal algorithms</a> can be implemented similarly like search, replacement, or summary creation algorithms.</p>
<div id="attachment_1637" style="width: 677px" class="wp-caption aligncenter"><a href="/wp-content/uploads/2015/10/TextExpressionVisitor_ClassDiagram.png"><img class="size-full wp-image-1637" src="/wp-content/uploads/2015/10/TextExpressionVisitor_ClassDiagram.png" alt="Text Expression Visitors" width="667" height="873" srcset="/wp-content/uploads/2015/10/TextExpressionVisitor_ClassDiagram.png 667w, /wp-content/uploads/2015/10/TextExpressionVisitor_ClassDiagram-229x300.png 229w" sizes="(max-width: 667px) 100vw, 667px" /></a><p class="wp-caption-text">Text Expression Visitor Classes and Interfaces</p></div>
<p><a href="/wp-content/uploads/2015/09/Example40.png"><img class="aligncenter size-full wp-image-972" src="/wp-content/uploads/2015/09/Example40.png" alt="Example40" width="120" height="40" /></a></p>
<div class="grid one-half">
<p>The shown code can be used to construct a simple expression tree using normal class constructors. This approach is useful when the tree represents information generated internally by the program, and the tree is used to pass the information to other text composition stages for example. The output of this code is as follows:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5b1b16897ac23705914547" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">C#</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
List[2.7, Var1, "Testing 1 2 3", {
    A : 1, 
    B : 2, 
    C : 3
}]</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5b1b16897ac23705914547-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac23705914547-2">2</div><div class="crayon-num" data-line="crayon-5b1b16897ac23705914547-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac23705914547-4">4</div><div class="crayon-num" data-line="crayon-5b1b16897ac23705914547-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5b1b16897ac23705914547-1">List[2.7, Var1, "Testing 1 2 3", {</div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac23705914547-2">&nbsp;&nbsp;&nbsp;&nbsp;A : 1, </div><div class="crayon-line" id="crayon-5b1b16897ac23705914547-3">&nbsp;&nbsp;&nbsp;&nbsp;B : 2, </div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac23705914547-4">&nbsp;&nbsp;&nbsp;&nbsp;C : 3</div><div class="crayon-line" id="crayon-5b1b16897ac23705914547-5">}]</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>
</div>
<div class="grid one-half last">
</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5b1b16897ac27791132327" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">C#</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
var dict = new TeDictionary
{
    {"A", new TeLiteralNumber(1)},
    {"B", new TeLiteralNumber(2)},
    {"C", new TeLiteralNumber(3)}
};

var listExpr = new TeList
{
    new TeLiteralNumber(2.7D),
    new TeIdentifier("Var1"),
    new TeLiteralString("Testing 1 2 3"),
    dict
};

listExpr.Name = new TeIdentifier("List");

return TextExpressionComposer.Generate(listExpr);</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5b1b16897ac27791132327-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac27791132327-2">2</div><div class="crayon-num" data-line="crayon-5b1b16897ac27791132327-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac27791132327-4">4</div><div class="crayon-num" data-line="crayon-5b1b16897ac27791132327-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac27791132327-6">6</div><div class="crayon-num" data-line="crayon-5b1b16897ac27791132327-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac27791132327-8">8</div><div class="crayon-num" data-line="crayon-5b1b16897ac27791132327-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac27791132327-10">10</div><div class="crayon-num" data-line="crayon-5b1b16897ac27791132327-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac27791132327-12">12</div><div class="crayon-num" data-line="crayon-5b1b16897ac27791132327-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac27791132327-14">14</div><div class="crayon-num" data-line="crayon-5b1b16897ac27791132327-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac27791132327-16">16</div><div class="crayon-num" data-line="crayon-5b1b16897ac27791132327-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac27791132327-18">18</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5b1b16897ac27791132327-1"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">dict</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TeDictionary</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac27791132327-2"><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5b1b16897ac27791132327-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-s">"A"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TeLiteralNumber</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac27791132327-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-s">"B"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TeLiteralNumber</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5b1b16897ac27791132327-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span><span class="crayon-s">"C"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TeLiteralNumber</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac27791132327-6"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5b1b16897ac27791132327-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac27791132327-8"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">listExpr</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TeList</span></div><div class="crayon-line" id="crayon-5b1b16897ac27791132327-9"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac27791132327-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TeLiteralNumber</span><span class="crayon-sy">(</span><span class="crayon-cn">2.7D</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5b1b16897ac27791132327-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TeIdentifier</span><span class="crayon-sy">(</span><span class="crayon-s">"Var1"</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac27791132327-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TeLiteralString</span><span class="crayon-sy">(</span><span class="crayon-s">"Testing 1 2 3"</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5b1b16897ac27791132327-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">dict</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac27791132327-14"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5b1b16897ac27791132327-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac27791132327-16"><span class="crayon-v">listExpr</span><span class="crayon-sy">.</span><span class="crayon-v">Name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">TeIdentifier</span><span class="crayon-sy">(</span><span class="crayon-s">"List"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5b1b16897ac27791132327-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac27791132327-18"><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">TextExpressionComposer</span><span class="crayon-sy">.</span><span class="crayon-e">Generate</span><span class="crayon-sy">(</span><span class="crayon-v">listExpr</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0025 seconds] -->
<p>
</div><div class="clear"></div>
<p><a href="/wp-content/uploads/2015/09/Example40.png"><img class="aligncenter size-full wp-image-972" src="/wp-content/uploads/2015/09/Example40.png" alt="Example40" width="120" height="40" /></a></p>
<p>The second code example parses a given text into a text expression tree using the static 
			<span id="crayon-5b1b16897ac2b277742898" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">ParseToTextExpression()</span></span> method of the 
			<span id="crayon-5b1b16897ac2e408865972" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">TextExpressionParser</span></span> static class. Then a custom class called 
			<span id="crayon-5b1b16897ac31052636073" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">Task1Class</span></span> derived from 
			<span id="crayon-5b1b16897ac35443365416" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">TextExpressionVisitor</span></span> is used to replace the heads of composite sub-expressions in the tree according to a given dictionary.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5b1b16897ac38059577723" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">C#</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
//Parse text into an expression tree
var textExpr = 
    "Add{ V1 : Add[-2.5, Vector[2, 3, -4]], V2 : Vector[x, 2, -4.7] }".ParseToTextExpression();

var composer = new LinearComposer();

composer
    .AppendLine("Before replacement: ")
    .AppendLine(TextExpressionComposer.Generate(textExpr))
    .AppendLine();

//Replace "Add" by "Plus" and "Vector" by "List" in the expression tree
Task1Class.ReplaceNames(
    textExpr,
    new Dictionary&lt;string, string&gt;{{"Add","Plus"},{"Vector","List"}}
    );

composer
    .AppendLine("After replacement: ")
    .AppendLine(TextExpressionComposer.Generate(textExpr));

return composer.ToString();</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5b1b16897ac38059577723-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac38059577723-2">2</div><div class="crayon-num" data-line="crayon-5b1b16897ac38059577723-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac38059577723-4">4</div><div class="crayon-num" data-line="crayon-5b1b16897ac38059577723-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac38059577723-6">6</div><div class="crayon-num" data-line="crayon-5b1b16897ac38059577723-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac38059577723-8">8</div><div class="crayon-num" data-line="crayon-5b1b16897ac38059577723-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac38059577723-10">10</div><div class="crayon-num" data-line="crayon-5b1b16897ac38059577723-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac38059577723-12">12</div><div class="crayon-num" data-line="crayon-5b1b16897ac38059577723-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac38059577723-14">14</div><div class="crayon-num" data-line="crayon-5b1b16897ac38059577723-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac38059577723-16">16</div><div class="crayon-num" data-line="crayon-5b1b16897ac38059577723-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac38059577723-18">18</div><div class="crayon-num" data-line="crayon-5b1b16897ac38059577723-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac38059577723-20">20</div><div class="crayon-num" data-line="crayon-5b1b16897ac38059577723-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac38059577723-22">22</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5b1b16897ac38059577723-1"><span class="crayon-c">//Parse text into an expression tree</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac38059577723-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">textExpr</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5b1b16897ac38059577723-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"Add{ V1 : Add[-2.5, Vector[2, 3, -4]], V2 : Vector[x, 2, -4.7] }"</span><span class="crayon-sy">.</span><span class="crayon-e">ParseToTextExpression</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac38059577723-4">&nbsp;</div><div class="crayon-line" id="crayon-5b1b16897ac38059577723-5"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">composer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">LinearComposer</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac38059577723-6">&nbsp;</div><div class="crayon-line" id="crayon-5b1b16897ac38059577723-7"><span class="crayon-i">composer</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac38059577723-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">AppendLine</span><span class="crayon-sy">(</span><span class="crayon-s">"Before replacement: "</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5b1b16897ac38059577723-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">AppendLine</span><span class="crayon-sy">(</span><span class="crayon-v">TextExpressionComposer</span><span class="crayon-sy">.</span><span class="crayon-e">Generate</span><span class="crayon-sy">(</span><span class="crayon-v">textExpr</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac38059577723-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">AppendLine</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5b1b16897ac38059577723-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac38059577723-12"><span class="crayon-c">//Replace "Add" by "Plus" and "Vector" by "List" in the expression tree</span></div><div class="crayon-line" id="crayon-5b1b16897ac38059577723-13"><span class="crayon-v">Task1Class</span><span class="crayon-sy">.</span><span class="crayon-e">ReplaceNames</span><span class="crayon-sy">(</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac38059577723-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">textExpr</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5b1b16897ac38059577723-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-v">Dictionary</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span><span class="crayon-sy">{</span><span class="crayon-sy">{</span><span class="crayon-s">"Add"</span><span class="crayon-sy">,</span><span class="crayon-s">"Plus"</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-sy">{</span><span class="crayon-s">"Vector"</span><span class="crayon-sy">,</span><span class="crayon-s">"List"</span><span class="crayon-sy">}</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac38059577723-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5b1b16897ac38059577723-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac38059577723-18"><span class="crayon-i">composer</span></div><div class="crayon-line" id="crayon-5b1b16897ac38059577723-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">AppendLine</span><span class="crayon-sy">(</span><span class="crayon-s">"After replacement: "</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac38059577723-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">AppendLine</span><span class="crayon-sy">(</span><span class="crayon-v">TextExpressionComposer</span><span class="crayon-sy">.</span><span class="crayon-e">Generate</span><span class="crayon-sy">(</span><span class="crayon-v">textExpr</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5b1b16897ac38059577723-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac38059577723-22"><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">composer</span><span class="crayon-sy">.</span><span class="crayon-e">ToString</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0022 seconds] -->
<p>
The definition of the 
			<span id="crayon-5b1b16897ac3c971584069" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">Task1Class</span></span> is as follows:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5b1b16897ac40106061153" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">C#</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
/// &lt;summary&gt;
/// A simple class that replaces the names of composite expressions using a dictionary
/// &lt;/summary&gt;
internal class Task1Class : TextExpressionVisitor
{
    private readonly Dictionary&lt;string, string&gt; _namesDictionary;

    private Task1Class(Dictionary&lt;string, string&gt; namesDictionary)
    {
        _namesDictionary = namesDictionary;
    }

    public override void Visit(TeLiteralNumber textExpr) { }

    public override void Visit(TeLiteralString textExpr) { }

    public override void Visit(TeIdentifier textExpr) { }

    public override void Visit(TeList textExpr)
    {
        string newName;

        if (textExpr.IsNamed &amp;&amp; _namesDictionary.TryGetValue(textExpr.Name.ToString(), out newName))
            textExpr.Name.Text = newName;

        foreach (var subExpr in textExpr.ChildExpressions)
            Visit(subExpr);
    }

    public override void Visit(TeDictionary textExpr)
    {
        string newName;

        if (textExpr.IsNamed &amp;&amp; _namesDictionary.TryGetValue(textExpr.Name.ToString(), out newName))
            textExpr.Name.Text = newName;

        foreach (var subExpr in textExpr.ChildExpressions)
            Visit(subExpr);
    }

    public static void ReplaceNames(ITextExpression textExpr, Dictionary&lt;string, string&gt; namesDictionary)
    {
        var task1Object = new Task1Class(namesDictionary);

        task1Object.Visit(textExpr);
    }
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-2">2</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-4">4</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-6">6</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-8">8</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-10">10</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-12">12</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-14">14</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-16">16</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-18">18</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-20">20</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-22">22</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-24">24</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-26">26</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-28">28</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-30">30</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-32">32</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-34">34</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-36">36</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-38">38</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-40">40</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-42">42</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-44">44</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac40106061153-46">46</div><div class="crayon-num" data-line="crayon-5b1b16897ac40106061153-47">47</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5b1b16897ac40106061153-1"><span class="crayon-c">/// &lt;summary&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-2"><span class="crayon-c">/// A simple class that replaces the names of composite expressions using a dictionary</span></div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-3"><span class="crayon-c">/// &lt;/summary&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-4"><span class="crayon-m">internal</span><span class="crayon-h"> </span><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-v">Task1Class</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">TextExpressionVisitor</span></div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-5"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-m">readonly</span><span class="crayon-h"> </span><span class="crayon-v">Dictionary</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">_namesDictionary</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">private</span><span class="crayon-h"> </span><span class="crayon-e">Task1Class</span><span class="crayon-sy">(</span><span class="crayon-v">Dictionary</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">namesDictionary</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">_namesDictionary</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">namesDictionary</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-12">&nbsp;</div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">override</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">Visit</span><span class="crayon-sy">(</span><span class="crayon-e">TeLiteralNumber </span><span class="crayon-v">textExpr</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-14">&nbsp;</div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">override</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">Visit</span><span class="crayon-sy">(</span><span class="crayon-e">TeLiteralString </span><span class="crayon-v">textExpr</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-16">&nbsp;</div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">override</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">Visit</span><span class="crayon-sy">(</span><span class="crayon-e">TeIdentifier </span><span class="crayon-v">textExpr</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-18">&nbsp;</div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">override</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">Visit</span><span class="crayon-sy">(</span><span class="crayon-e">TeList </span><span class="crayon-v">textExpr</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">newName</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-22">&nbsp;</div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">textExpr</span><span class="crayon-sy">.</span><span class="crayon-v">IsNamed</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">_namesDictionary</span><span class="crayon-sy">.</span><span class="crayon-e">TryGetValue</span><span class="crayon-sy">(</span><span class="crayon-v">textExpr</span><span class="crayon-sy">.</span><span class="crayon-v">Name</span><span class="crayon-sy">.</span><span class="crayon-e">ToString</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-st">out</span><span class="crayon-h"> </span><span class="crayon-v">newName</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">textExpr</span><span class="crayon-sy">.</span><span class="crayon-v">Name</span><span class="crayon-sy">.</span><span class="crayon-v">Text</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">newName</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">foreach</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e">subExpr </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">textExpr</span><span class="crayon-sy">.</span><span class="crayon-v">ChildExpressions</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Visit</span><span class="crayon-sy">(</span><span class="crayon-v">subExpr</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-29">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">override</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">Visit</span><span class="crayon-sy">(</span><span class="crayon-e">TeDictionary </span><span class="crayon-v">textExpr</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-v">newName</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-33">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-34"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">textExpr</span><span class="crayon-sy">.</span><span class="crayon-v">IsNamed</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">_namesDictionary</span><span class="crayon-sy">.</span><span class="crayon-e">TryGetValue</span><span class="crayon-sy">(</span><span class="crayon-v">textExpr</span><span class="crayon-sy">.</span><span class="crayon-v">Name</span><span class="crayon-sy">.</span><span class="crayon-e">ToString</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-st">out</span><span class="crayon-h"> </span><span class="crayon-v">newName</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">textExpr</span><span class="crayon-sy">.</span><span class="crayon-v">Name</span><span class="crayon-sy">.</span><span class="crayon-v">Text</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">newName</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-36">&nbsp;</div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">foreach</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e">subExpr </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">textExpr</span><span class="crayon-sy">.</span><span class="crayon-v">ChildExpressions</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">Visit</span><span class="crayon-sy">(</span><span class="crayon-v">subExpr</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-39"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-40">&nbsp;</div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-m">public</span><span class="crayon-h"> </span><span class="crayon-m">static</span><span class="crayon-h"> </span><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">ReplaceNames</span><span class="crayon-sy">(</span><span class="crayon-e">ITextExpression </span><span class="crayon-v">textExpr</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">Dictionary</span><span class="crayon-o">&lt;</span><span class="crayon-t">string</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">namesDictionary</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">task1Object</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Task1Class</span><span class="crayon-sy">(</span><span class="crayon-v">namesDictionary</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-44">&nbsp;</div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-45"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">task1Object</span><span class="crayon-sy">.</span><span class="crayon-e">Visit</span><span class="crayon-sy">(</span><span class="crayon-v">textExpr</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac40106061153-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5b1b16897ac40106061153-47"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0064 seconds] -->
<p>
The output of this code displays the expression tree before and after the replacement happens:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5b1b16897ac44442984630" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">C#</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
Before replacement: 
Add {
    V1 : Add[-2.5, Vector[2, 3, -4]], 
    V2 : Vector[x, 2, -4.7]
}

After replacement: 
Plus {
    V1 : Plus[-2.5, List[2, 3, -4]], 
    V2 : List[x, 2, -4.7]
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5b1b16897ac44442984630-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac44442984630-2">2</div><div class="crayon-num" data-line="crayon-5b1b16897ac44442984630-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac44442984630-4">4</div><div class="crayon-num" data-line="crayon-5b1b16897ac44442984630-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac44442984630-6">6</div><div class="crayon-num" data-line="crayon-5b1b16897ac44442984630-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac44442984630-8">8</div><div class="crayon-num" data-line="crayon-5b1b16897ac44442984630-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5b1b16897ac44442984630-10">10</div><div class="crayon-num" data-line="crayon-5b1b16897ac44442984630-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5b1b16897ac44442984630-1">Before replacement: </div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac44442984630-2">Add {</div><div class="crayon-line" id="crayon-5b1b16897ac44442984630-3">&nbsp;&nbsp;&nbsp;&nbsp;V1 : Add[-2.5, Vector[2, 3, -4]], </div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac44442984630-4">&nbsp;&nbsp;&nbsp;&nbsp;V2 : Vector[x, 2, -4.7]</div><div class="crayon-line" id="crayon-5b1b16897ac44442984630-5">}</div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac44442984630-6">&nbsp;</div><div class="crayon-line" id="crayon-5b1b16897ac44442984630-7">After replacement: </div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac44442984630-8">Plus {</div><div class="crayon-line" id="crayon-5b1b16897ac44442984630-9">&nbsp;&nbsp;&nbsp;&nbsp;V1 : Plus[-2.5, List[2, 3, -4]], </div><div class="crayon-line crayon-striped-line" id="crayon-5b1b16897ac44442984630-10">&nbsp;&nbsp;&nbsp;&nbsp;V2 : List[x, 2, -4.7]</div><div class="crayon-line" id="crayon-5b1b16897ac44442984630-11">}</div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>
The syntax of expressions is as follows:</p>
<ul>
<li>Number literals can be any familiar integer of floating point number literal like 
			<span id="crayon-5b1b16897ac48842297127" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">-42</span></span> or 
			<span id="crayon-5b1b16897ac4b144779086" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">2.456e-2</span></span> for example.</li>
<li>String literals can be any C#-like string literal but can also be enclosed by single or double quotes. For example 
			<span id="crayon-5b1b16897ac4f374195662" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">"Me and them"</span></span>, and 
			<span id="crayon-5b1b16897ac52405665872" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">'Me and them'</span></span> are the same string literal.</li>
<li>An identifier is a sequence of alphanumeric or underscore characters not starting with a number. For example 
			<span id="crayon-5b1b16897ac55745250500" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">x</span></span>, 
			<span id="crayon-5b1b16897ac58009160122" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">Var12</span></span>, and 
			<span id="crayon-5b1b16897ac5c669580733" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">Rotation_Z</span></span> are all legal identifiers.</li>
<li>List expressions optionally start with an identifier called the name of the list and are a comma separated listing of sub-expressions, possibly of mixed kinds, surrounded by square brackets. For example 
			<span id="crayon-5b1b16897ac5f125496396" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">Max[1, 2, 3]</span></span>, 
			<span id="crayon-5b1b16897ac63300327384" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">Plus[-2.3, 5, 7.9]</span></span>, 
			<span id="crayon-5b1b16897ac66653456716" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">["A", "B", 8, R1]</span></span> are all legal list expressions. There is no specific meaning associated with the lists.</li>
<li>Dictionary expressions are similar to list expressions but each item gets a key and curly braces are used. For example 
			<span id="crayon-5b1b16897ac6a945670077" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">{X:3, Y:8, Z:-1}</span></span> and 
			<span id="crayon-5b1b16897ac6d502463326" class="crayon-syntax crayon-syntax-inline  crayon-theme-github crayon-theme-github-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">Ray{ Direction : Point[2.3, 7.6], Origin : Vector[3.1, -2.7] }</span></span> are typical dictionary expressions.</li>
</ul>
<p>Using this simple Text Expression Tree DSL the user can create arbitrary complex trees of basic numbers, strings, and identifiers. Such trees are similar in structure to the XML trees but much easier to manipulate, process, and store in typical code generation scenarios.</p>
<div class="addtoany_share_save_container addtoany_content addtoany_content_bottom"><div class="a2a_kit a2a_kit_size_24 addtoany_list" data-a2a-url="/index.php/textcomposerlib-guide/expression-trees-composition/" data-a2a-title="Expression Trees Composition"><a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=%2Findex.php%2Ftextcomposerlib-guide%2Fexpression-trees-composition%2F&amp;linkname=Expression%20Trees%20Composition" title="Facebook" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=%2Findex.php%2Ftextcomposerlib-guide%2Fexpression-trees-composition%2F&amp;linkname=Expression%20Trees%20Composition" title="Twitter" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_google_plus" href="https://www.addtoany.com/add_to/google_plus?linkurl=%2Findex.php%2Ftextcomposerlib-guide%2Fexpression-trees-composition%2F&amp;linkname=Expression%20Trees%20Composition" title="Google+" rel="nofollow noopener" target="_blank"></a><a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=%2Findex.php%2Ftextcomposerlib-guide%2Fexpression-trees-composition%2F&amp;linkname=Expression%20Trees%20Composition" title="LinkedIn" rel="nofollow noopener" target="_blank"></a><a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share"></a></div></div>      <nav class="pagination group">
              </nav><!--/.pagination-->
      <div class="clear"></div>
    </div><!--/.entry-->

  </article>

  
          </div><!--/.pad-->
        </section><!--/.content-->
          

        </div><!--/.main-inner-->
      </div><!--/.main-->
    </div><!--/.container-inner-->
  </div><!--/.container-->
    <footer id="footer">

    
    
        <section class="container" id="footer-widgets">
          <div class="container-inner">

            <div class="pad group">

                                <div class="footer-widget-1 grid one-full last">
                    <div id="text-2" class="widget widget_text">			<div class="textwidget">		<div class="elementor elementor-3665">
			<div class="elementor-inner">
				<div class="elementor-section-wrap">
							<section data-id="7bf0117c" class="elementor-element elementor-element-7bf0117c elementor-section-boxed elementor-section-height-default elementor-section-height-default animated fadeIn elementor-invisible elementor-section elementor-top-section" data-settings="{&quot;background_background&quot;:&quot;classic&quot;,&quot;animation&quot;:&quot;fadeIn&quot;}" data-element_type="section">
							<div class="elementor-background-overlay"></div>
						<div class="elementor-container elementor-column-gap-default">
				<div class="elementor-row">
				<div data-id="ffabcda" class="elementor-element elementor-element-ffabcda elementor-column elementor-col-100 elementor-top-column" data-element_type="column">
			<div class="elementor-column-wrap elementor-element-populated">
					<div class="elementor-widget-wrap">
				<div data-id="50b16ba1" class="elementor-element elementor-element-50b16ba1 elementor-widget elementor-widget-image" data-element_type="image.default">
				<div class="elementor-widget-container">
					<div class="elementor-image">
											<a href="/wp-content/uploads/2015/06/fatiha-square-white_cr.jpg" data-elementor-open-lightbox="" target="_blank">
							<img width="1380" height="138" src="/wp-content/uploads/2017/11/GA-Explorer-Footer-v2.jpg" class="elementor-animation-shrink attachment-full size-full" alt="" srcset="/wp-content/uploads/2017/11/GA-Explorer-Footer-v2.jpg 1380w, /wp-content/uploads/2017/11/GA-Explorer-Footer-v2-300x30.jpg 300w, /wp-content/uploads/2017/11/GA-Explorer-Footer-v2-768x77.jpg 768w, /wp-content/uploads/2017/11/GA-Explorer-Footer-v2-1024x102.jpg 1024w" sizes="(max-width: 1380px) 100vw, 1380px" />								</a>
											</div>
				</div>
				</div>
						</div>
			</div>
		</div>
						</div>
			</div>
		</section>
						</div>
			</div>
		</div>
		
</div>
		</div>                  </div>
              
            </div><!--/.pad-->

          </div><!--/.container-inner-->
        </section><!--/.container-->

    
    
    <section class="container" id="footer-bottom">
      <div class="container-inner">

        <a id="back-to-top" href="#"><i class="fas fa-angle-up"></i></a>

        <div class="pad group">

          <div class="grid one-half">
                        
            <div id="copyright">
                              <p>GMac Guides &copy; 2018. All Rights Reserved.</p>
                          </div><!--/#copyright-->

                                                          <div id="credit" style="">
                    <p>Powered by&nbsp;<a class="fab fa-wordpress" title="Powered by WordPress" href="https://wordpress.org/" target="_blank"></a> - Designed with the&nbsp;<a href="https://presscustomizr.com/hueman/" title="Hueman theme">Hueman theme</a></p>
                  </div><!--/#credit-->
                          
          </div>

          <div class="grid one-half last">
                                                  </div>

        </div><!--/.pad-->

      </div><!--/.container-inner-->
    </section><!--/.container-->

  </footer><!--/#footer-->

</div><!--/#wrapper-->

<link rel='stylesheet' id='elementor-frontend-css'  href='/wp-content/plugins/elementor/assets/css/frontend.min.css?ver=2.0.15' type='text/css' media='all' />
<link rel='stylesheet' id='elementor-post-3665-css'  href='/wp-content/uploads/elementor/css/post-3665.css?ver=1528313649' type='text/css' media='all' />
<link rel='stylesheet' id='elementor-icons-css'  href='/wp-content/plugins/elementor/assets/lib/eicons/css/elementor-icons.min.css?ver=3.3.0' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css'  href='/wp-content/plugins/elementor/assets/lib/font-awesome/css/font-awesome.min.css?ver=4.7.0' type='text/css' media='all' />
<link rel='stylesheet' id='elementor-animations-css'  href='/wp-content/plugins/elementor/assets/lib/animations/animations.min.css?ver=2.0.15' type='text/css' media='all' />
<link rel='stylesheet' id='lae-frontend-styles-css'  href='/wp-content/plugins/addons-for-elementor/assets/css/lae-frontend.css?ver=1.6' type='text/css' media='all' />
<link rel='stylesheet' id='lae-widgets-styles-css'  href='/wp-content/plugins/addons-for-elementor/assets/css/lae-widgets.css?ver=1.6' type='text/css' media='all' />
<link rel='stylesheet' id='lae-icomoon-styles-css'  href='/wp-content/plugins/addons-for-elementor/assets/css/icomoon.css?ver=1.6' type='text/css' media='all' />
<link rel='stylesheet' id='lae-sliders-styles-css'  href='/wp-content/plugins/addons-for-elementor/assets/css/sliders.css?ver=1.6' type='text/css' media='all' />
<link rel='stylesheet' id='elementor-global-css'  href='/wp-content/uploads/elementor/css/global.css?ver=1528313650' type='text/css' media='all' />
<script type='text/javascript'>
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"\/index.php\/wp-json\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}}};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=5.0.2'></script>
<script type='text/javascript' src='/wp-content/plugins/essential-addons-for-elementor-lite/assets/js/eael-scripts.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-content/plugins/essential-addons-for-elementor-lite/assets/js/fancy-text.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-content/plugins/essential-addons-for-elementor-lite/assets/js/countdown.min.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-content/plugins/essential-addons-for-elementor-lite/assets/js/masonry.min.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-content/plugins/essential-addons-for-elementor-lite/assets/js/load-more.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-content/plugins/essential-addons-for-elementor-lite/assets/social-feeds/codebird.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-content/plugins/essential-addons-for-elementor-lite/assets/social-feeds/doT.min.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-content/plugins/essential-addons-for-elementor-lite/assets/social-feeds/moment.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-content/plugins/essential-addons-for-elementor-lite/assets/social-feeds/jquery.socialfeed.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-content/plugins/essential-addons-for-elementor-lite/assets/js/mixitup.min.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-content/plugins/essential-addons-for-elementor-lite/assets/js/jquery.magnific-popup.min.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-content/plugins/essential-addons-for-elementor-lite/assets/slick/slick.min.js?ver=1.0'></script>
<script type='text/javascript' src='/wp-content/plugins/hueman-addons/addons/assets/front/js/jQuerySharrre.min.js?ver=4.9.6'></script>
<script type='text/javascript' src='/wp-includes/js/underscore.min.js?ver=1.8.3'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var HUParams = {"_disabled":[],"SmoothScroll":{"Enabled":true,"Options":{"touchpadSupport":false}},"centerAllImg":"1","timerOnScrollAllBrowsers":"1","extLinksStyle":"","extLinksTargetExt":"1","extLinksSkipSelectors":{"classes":["btn","button"],"ids":[]},"imgSmartLoadEnabled":"","imgSmartLoadOpts":{"parentSelectors":[".container .content",".container .sidebar","#footer","#header-widgets"],"opts":{"excludeImg":[".tc-holder-img"],"fadeIn_options":100}},"goldenRatio":"1.618","gridGoldenRatioLimit":"350","sbStickyUserSettings":{"desktop":false,"mobile":false},"isWPMobile":"","menuStickyUserSettings":{"desktop":"stick_up","mobile":"stick_up"},"isDevMode":"","ajaxUrl":"\/?huajax=1","frontNonce":{"id":"HuFrontNonce","handle":"1cbabd7a98"},"userStarted":{"with":"with|3.3.21","on":{"date":"2017-10-12 21:00:09.000000","timezone_type":3,"timezone":"UTC"}},"isWelcomeNoteOn":"","welcomeContent":""};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/themes/hueman/assets/front/js/scripts.min.js?ver=3.3.27'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.9.6'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/ui/position.min.js?ver=1.11.4'></script>
<script type='text/javascript' src='/wp-content/plugins/elementor/assets/lib/dialog/dialog.min.js?ver=4.3.2'></script>
<script type='text/javascript' src='/wp-content/plugins/elementor/assets/lib/waypoints/waypoints.min.js?ver=4.0.2'></script>
<script type='text/javascript' src='/wp-content/plugins/elementor/assets/lib/swiper/swiper.jquery.min.js?ver=3.4.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var elementorFrontendConfig = {"isEditMode":"","is_rtl":"","urls":{"assets":"\/wp-content\/plugins\/elementor\/assets\/"},"settings":{"page":[],"general":{"elementor_enable_lightbox_in_editor":"yes"}},"post":{"id":3706,"title":"Expression Trees Composition","excerpt":""}};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/elementor/assets/js/frontend.min.js?ver=2.0.15'></script>
<!--[if lt IE 9]>
<script src="/wp-content/themes/hueman/assets/front/js/ie/respond.js"></script>
<![endif]-->
<div id="turnkey-credit"> <div style="clear: both;"> <a href="https://www.turnkeylinux.org/wordpress">WordPress Appliance</a> - Powered by <a href="https://www.turnkeylinux.org/">TurnKey Linux</a> </div> </div></body>
</html>